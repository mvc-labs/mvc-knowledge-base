---
sidebar_position: 6
---

# Block Hash

Introducing how the block ID is calculated.

## What is a Block Hash

A block hash is a unique identifier in the blockchain, generated by performing a double SHA-256 hash on the block
header. The block hash is used to identify and reference specific blocks, ensuring the security and integrity of the
blockchain.

## Block Hash Generation Process

### 1. Constructing the Block Header

The block header contains the following fields:

- Version ([Version](version.md))
- Previous Block Hash ([Previous Block Hash](previous-block.md))
- Merkle Root ([Merkle Root](merkle-root.md))
- Timestamp ([Timestamp](time.md))
- Difficulty Target ([Bits](bits.md))
- Nonce ([Nonce](nonce.md))

### 2. Hashing Process

1. Convert the block header's content into a byte sequence.
2. Perform the first SHA-256 hash on the byte sequence to get Hash 1.
3. Perform the second SHA-256 hash on Hash 1 to get the final block hash.

### Example Code

Here is an example code to generate a block hash:

```ruby
require 'digest'

# Block header fields
version = "01000000"
previousblock = "0000000000000000000000000000000000000000000000000000000000000000"
merkleroot = "3ba3edfd7a7b12b27ac72c3e67768f617fc81bc3888a51323a9fb8aa4b1e5e4a"
time = "29ab5f49"
bits = "ffff001d"
nonce = "1dac2b7c"

blockheader = version + previousblock + merkleroot + time + bits + nonce

# Convert to byte sequence
bytes = [blockheader].pack("H*")

# First SHA-256 hash
hash1 = Digest::SHA256.digest(bytes)

# Second SHA-256 hash
hash2 = Digest::SHA256.digest(hash1)

# Convert result to hexadecimal string
blockhash = hash2.unpack("H*")[0]

puts blockhash
```

## Functions of a Block Hash

1. **Block Identification**: The block hash serves as the unique identifier for a block, used to quickly locate and
   reference specific blocks in the blockchain.
2. **Ensuring Integrity**: By hashing the block header, the block hash ensures the integrity and immutability of the
   block data.
3. **Consensus Mechanism**: Miners must find a nonce that makes the block hash less than the target value when
   generating new blocks, ensuring the proof-of-work mechanism of the blockchain.

## Summary

The block hash is generated by performing a double SHA-256 hash on the block header and is a key element in identifying
and verifying blocks in the blockchain. Understanding the block hash generation process and its functions helps to grasp
the security and operation mechanisms of the blockchain.
